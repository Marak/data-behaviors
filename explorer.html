<html>
  <head>
    <script src = "lib/jquery.js"></script>
    <script src = "lib/debug.js"></script>
    <script src = "mustache.js"></script>
    <script src = "MAML.js"></script>
    <script src = "sampleData.js"></script>    

    <script src="lib/SlickGrid/lib/jquery.rule-1.0.1.1-min.js"></script>
    <script src="lib/SlickGrid/lib/jquery.event.drag.custom.js"></script>

		<!--[if IE]>
			<script type="text/javascript" src="lib/Highcharts/js/excanvas.compiled.js"></script>
		<![endif]-->
		
    <!-- highchart requires -->
    <script type="text/javascript" src="http://www.highcharts.com/highslide/highslide-full.min.js"></script>
    <script type="text/javascript" src="http://www.highcharts.com/highslide/highslide.config.js" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="http://www.highcharts.com/highslide/highslide.css" />
    <!-- end highchart requires -->

    <!-- slick grid requires -->
		<link rel="stylesheet" href="lib/SlickGrid/slick.grid.css" type="text/css" media="screen" charset="utf-8" />
		<link rel="stylesheet" href="lib/SlickGrid/slick.pager.css" type="text/css" media="screen" charset="utf-8" />
		<link rel="stylesheet" href="lib/SlickGrid/css/custom-theme/jquery-ui-1.7.2.custom.css" type="text/css" media="screen" charset="utf-8" />
		<link rel="stylesheet" href="lib/SlickGrid/examples.css" type="text/css" media="screen" charset="utf-8" />
		<link rel="stylesheet" href="lib/SlickGrid/slick.columnpicker.css" type="text/css" media="screen" charset="utf-8" />
    <script src="lib/SlickGrid/slick.grid.js"></script>
		<script language="JavaScript" src="lib/SlickGrid/slick.editors.js"></script>
		<script language="JavaScript" src="lib/SlickGrid/slick.grid.js"></script>
		<script language="JavaScript" src="lib/SlickGrid/slick.model.js"></script>
		<script language="JavaScript" src="lib/SlickGrid/slick.pager.js"></script>
		<script language="JavaScript" src="lib/SlickGrid/slick.columnpicker.js"></script>  
    <script language="JavaScript" src="lib/SlickGrid/lib/jquery-ui-1.7.2.custom.min.js"></script>
		<script type="text/javascript" src="lib/Highcharts/js/highcharts.js"></script>

		<!-- end slick grid requires -->

    <script>
      $(document).ready(function(){
        debug.log('document ready');
        attachBehaviors($("[data-behaviors]"));
    
        
      });
      
      function attachBehaviors(selector){
        
        $(selector).each(function(i,e){
          
          var behaviors = $(e).attr('data-behaviors').split(' ');
          for(var behavior in behaviors){
            var b = behaviors[behavior];
            // parse behavior name for sub-behaviors
            // the labeling approach of behaviors on DOM elements is as follows
            // fooBehavior-sub-sub2 turns into =>  behaviors.fooBehavior.sub.sub2()
            b = b.replace(/\-/, '.');
            debug.log(e);
            // evil eval is evil, but benign 
            eval('MR.behave.'+b+'({"selector":e})')
            
          }
          
        });
      }
      
     $.fn.behavior = function(settings) {
       var config = {'foo': 'bar'};

       if (settings) $.extend(config, settings);

       this.each(function() {
         // element-specific code here
       });

       return this;

     };
      
    </script>
    
		<script type = "text/javascript">
		
		  // lets define some test data
      var grid_data_1 = {};
      grid_data_1.columns = [
      	{id:"title", name:"Title", field:"title"},
      	{id:"duration", name:"Duration", field:"duration"},
      	{id:"%", name:"% Complete", field:"percentComplete"},
      	{id:"start", name:"Start", field:"start"},
      	{id:"finish", name:"Finish", field:"finish"},
      	{id:"effort-driven", name:"Effort Driven", field:"effortDriven"}
      ];

      grid_data_1.data = [];
      for (var i = 0; i < 500; i++) {
    		grid_data_1.data[i] = {
                    title: "Task " + i,
                    duration: "5 days",
                    percentComplete: Math.round(Math.random() * 100),
                    start: "01/01/2009",
                    finish: "01/05/2009",
                    effortDriven: (i % 5 == 0)
                };
    	}

    
      

      var grid_data_2 = {};
      grid_data_2.columns = [
      	{id:"title", name:"Title", field:"title"},
      	{id:"duration", name:"Duration", field:"duration"},
      	{id:"%", name:"% Complete", field:"percentComplete"},
      	{id:"start", name:"Start", field:"start"},
      	{id:"finish", name:"Finish", field:"finish"},
      	{id:"effort-driven", name:"Effort Driven", field:"effortDriven"}
      ];

      grid_data_2.data = [];
      for (var i = 0; i < 500; i++) {
    		grid_data_2.data[i] = {
                    title: "Mask " + i,
                    duration: "3 minutes",
                    percentComplete: Math.round(Math.random() * 100),
                    start: "03/04/2010",
                    finish: "02/09/2010",
                    effortDriven: (i % 5 == 0)
                };
    	}
		
		  var chart_data_1 = 
		  [
				['Firefox',   44.2],
				['IE7',       26.6],
				{
					name: 'IE6',
					y: 20,
					sliced: true,
					selected: true
				},
				['Chrome',    3.1],
				['Safari',    2.7],
				['Opera',     2.3],
				['Mozilla',   0.4]
			]
		
		</script>
    
    
  </head>
  <body>
    <h1>this is the MAML explorer</h1>
    
    <h2>text input with all DOM event behaviors attached</h2>
    <p>
      <input id = "one" data-behaviors = "dirty" type = "text">
      <input id = "two" data-behaviors = "dirty" type = "checkbox">
      <select id = "three" data-behaviors = "dirty">
        <option>Select an option...</option>
        <option value = "1">One</option>
        <option value = "2">Two</option>
        <option value = "3">Three</option>                
      </select>
    </p>
    
    <hr/>
    
    <h3>grid-simple</h3>
    <div data-behaviors = "grid-simple" data-resource = "grid_data_1"></div>
    <div data-behaviors = "grid-simple" data-resource = "grid_data_2"></div>


    <!--
    <div data-behaviors = "grid-simple" style="width:400px;height:200px;"></div>
    <div data-behaviors = "grid-simple" style="width:400px;height:200px;"></div>
    <div data-behaviors = "grid-simple" style="width:400px;height:200px;"></div>
    -->
    <hr/>
    <h3>chart-pie</h3>
    <div data-behaviors = "chart-pie" data-resource = "chart_data_1" style="width: 800px; height: 400px; margin: 0 auto"></div>
    <div data-behaviors = "chart-pie" data-resource = "chart_data_1" style="width: 800px; height: 400px; margin: 0 auto"></div>


    <!--
    <hr/>
    <h3>complex grid example using slick grid</h3>
		<div style="width:600px;float:left;">
			<div class="grid-header" style="width:100%">
				<label>SlickGrid</label>
                <span style="float:right" class="ui-icon ui-icon-search" title="Toggle search panel" onclick="toggleFilterRow()"></span>
			</div>
			<div id="myGrid2"  data-behaviors = "grid-complex" style="width:100%;height:500px;"></div>
			<div id="pager" style="width:100%;height:20px;"></div>
		</div>

		<div class="options-panel" style="width:320px;margin-left:650px;">
			<b>Search:</b>
			<hr/>
			<div style="padding:6px;">
				<label style="width:200px;float:left">Show tasks with % at least: </label>
				<div style="padding:2px;">
					<div style="width:100px;display:inline-block;" id="pcSlider"></div>
				</div>
				<br/>
				<label style="width:200px;float:left">And title including:</label>
				<input type=text id="txtSearch" style="width:100px;">
				<br/><br/>
				<button id="btnSelectRows">Select first 10 rows</button>
			</div>
		</div>
		-->

  <body>
    
</html>